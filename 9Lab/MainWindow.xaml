<Window x:Class="_9Lab.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Анимированный шар с отражением" Height="500" Width="400">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">

            <!-- Заголовок -->
            <TextBlock Text="Анимированный шар" HorizontalAlignment="Center" FontSize="16" FontWeight="Bold" Margin="0,0,0,20"/>

            <!-- Контейнер для шара и отражения -->
            <Grid HorizontalAlignment="Center">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Шар -->
                <Ellipse x:Name="Ball" Width="200" Height="200" Grid.Row="0">
                    <Ellipse.Fill>
                        <RadialGradientBrush x:Name="BallGradient" GradientOrigin="0.3,0.3" RadiusX="1" RadiusY="1">
                            <GradientStop Color="White" Offset="0"/>
                            <GradientStop Color="Blue" Offset="1"/>
                        </RadialGradientBrush>
                    </Ellipse.Fill>
                </Ellipse>

                <!-- Отражение (точно по ширине шара) -->
                <Rectangle Grid.Row="1" Height="50" Width="200" Opacity="0.3" RenderTransformOrigin="0.5,0.5"
                          HorizontalAlignment="Center">
                    <Rectangle.Fill>
                        <VisualBrush Visual="{Binding ElementName=Ball}"/>
                    </Rectangle.Fill>
                    <Rectangle.RenderTransform>
                        <ScaleTransform ScaleY="-1"/>
                    </Rectangle.RenderTransform>
                </Rectangle>
            </Grid>

            <!-- Кнопка управления анимацией -->
            <Button x:Name="BtnAnimate" Content="Запустить анимацию" Click="BtnAnimate_Click" Margin="0,20" Padding="10"/>

            <!-- Expander для дополнительных настроек -->
            <Expander Header="Настройки анимации" Margin="0,10" IsExpanded="True">
                <StackPanel>
                    <TextBlock Text="Цвет шара:" FontWeight="Bold" Margin="0,5"/>
                    <ComboBox x:Name="ColorPicker" SelectionChanged="ColorPicker_SelectionChanged" Margin="0,5">
                        <ComboBoxItem Content="Синий" Tag="Blue" IsSelected="True"/>
                        <ComboBoxItem Content="Красный" Tag="Red"/>
                        <ComboBoxItem Content="Зелёный" Tag="Green"/>
                        <ComboBoxItem Content="Фиолетовый" Tag="Purple"/>
                        <ComboBoxItem Content="Оранжевый" Tag="Orange"/>
                    </ComboBox>

                    <TextBlock Text="Скорость анимации (сек):" FontWeight="Bold" Margin="0,10,0,5"/>
                    <Slider x:Name="SpeedSlider" Minimum="0.5" Maximum="5" Value="2" TickFrequency="0.5" 
                           TickPlacement="BottomRight" IsSnapToTickEnabled="True" Margin="0,5"
                           ValueChanged="SpeedSlider_ValueChanged"/>

                    <TextBlock x:Name="SpeedValueText" Text="Текущая скорость: 2 сек" HorizontalAlignment="Center" Margin="0,5"/>

                </StackPanel>
            </Expander>

        </StackPanel>
    </ScrollViewer>
</Window>