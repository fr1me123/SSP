<Window x:Class="_4LAB.Task4Window"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ink="clr-namespace:System.Windows.Ink;assembly=PresentationCore"
        xmlns:ctrls="clr-namespace:System.Windows.Controls;assembly=PresentationFramework"
        Title="Задание 4 — Привязка InkCanvas" Height="480" Width="800"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <x:Array x:Key="MyEditingModes" Type="{x:Type ctrls:InkCanvasEditingMode}">
            <x:Static Member="ctrls:InkCanvasEditingMode.Ink"/>
            <x:Static Member="ctrls:InkCanvasEditingMode.Select"/>
            <x:Static Member="ctrls:InkCanvasEditingMode.EraseByPoint"/>
            <x:Static Member="ctrls:InkCanvasEditingMode.EraseByStroke"/>
        </x:Array>

        <x:Array x:Key="MyDrawingAttributes" Type="{x:Type ink:DrawingAttributes}">
            <ink:DrawingAttributes Color="Black" Width="8" Height="8"/>
            <ink:DrawingAttributes Color="Red" Width="8" Height="8"/>
            <ink:DrawingAttributes Color="Green" Width="8" Height="8"/>
            <ink:DrawingAttributes Color="Blue" Width="8" Height="8"/>
        </x:Array>
    </Window.Resources>

    <DockPanel>
        <StatusBar DockPanel.Dock="Bottom">
            <TextBlock Text="Задание 4 — InkCanvas с привязкой данных" />
        </StatusBar>

        <StackPanel DockPanel.Dock="Left" Width="200" Margin="6">
            <TextBlock Text="Режим редактирования:" FontWeight="Bold" Margin="4"/>
            <ComboBox ItemsSource="{StaticResource MyEditingModes}"
                      SelectedValue="{Binding ElementName=inkCanvas, Path=EditingMode, Mode=TwoWay}"
                      Margin="4"/>

            <TextBlock Text="Выбор кисти:" FontWeight="Bold" Margin="8,12,4,4"/>
            <ListBox ItemsSource="{StaticResource MyDrawingAttributes}"
                     SelectedItem="{Binding ElementName=inkCanvas, Path=DefaultDrawingAttributes, Mode=TwoWay}"
                     DisplayMemberPath="Color"
                     Height="120" Margin="4"/>

            <TextBlock Text="Размер кисти:" FontWeight="Bold" Margin="8,12,4,4"/>
            <Slider Minimum="1" Maximum="30"
                    Value="{Binding ElementName=inkCanvas, Path=DefaultDrawingAttributes.Width, Mode=TwoWay}"
                    Margin="4"/>

            <Button Content="Назад" HorizontalAlignment="Center" Margin="0,20,0,0" Click="Back_Click"/>
        </StackPanel>

        <Border BorderBrush="Gray" BorderThickness="1" Margin="6">
            <InkCanvas x:Name="inkCanvas" Background="White"/>
        </Border>
    </DockPanel>
</Window>